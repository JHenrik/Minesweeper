# Minesweeper

1	Introduction
This program was part of the 2nd year studies and is graded from 1 to 5. The Course was about C programming for smart systems and lasted 8 weeks plus 1 week to finish with this project. During the 8 weeks there were 2 sessions a week where we learnt C programming language. The final project was to code a working program with C from a list of different older games which included Snake, Battle Ships etc. 

2	The Game 
Minesweeper is an old classic game that has had many variations all the way from 1960s. The game in its simplest form is a grid that is same length in X and Y directions and inside the grid there are mines that the player must recognize by “flagging” them when all the mines are flagged the game is finished, if you open a mine you have to start over. To help the player recognize the mines the grid will have numbers that indicate the number of mines that are rounding the number. The game can be made harder by making the grid larger and thus there will be more mines to find. Minesweeper has a really simple game loop that looks like the following.
 
3	Code Breakdown
To make the game work in terminal wasn’t complicated. The premise is that there needs to be two grids that are the same size. The first grid will be the grid with the bombs and numbers. That is made in the beginning of the game and will not be modified after creation. The second grid is what I call the “player grid”. In the beginning it is filled with unopened spaces and then one by one the player can open them. When player opens and grid it takes the coordinates of the player grid and replaces the character on the same coordinate from the bomb grid. Once the grids are ready the bombs need to be placed to the grid and also add the numbers accordingly. 
Here we first find the bombs from the grid with simple if statement. Now we need to add the numbers around the bomb and this was the main mechanic of the game. We first need the coordinates of the bomb. We look at all grid positions and find the bomb coordinates. Then we need to add 1 to the eight cells around the bomb so we make eight if statements and add to that grid 1. We need to also check that the grid that we are adding to is not a bomb because then it would be overwritten, and the game would not be possible to finish.  
Now we have the player grid and bomb grid done so we need a way to navigate the game. In the original version you use a mouse as controller but in terminal it is not possible so the best idea that I came up with was to use W,A,S,D to move in the grid
This was the hardest part to make. I decided to use switch-cases for easy recurrence. First we need the input so we type the input W/A/S/D and hit enter. When the code gets the input there is a lot happening. Step one we need to store the value of the player grid at the starting position and store it as temp. Step two is the moving its almost same way on all 4 movements. Check what direction the movement is just like the arrow keys WASD is similar. Lets breakdown the up movement. The code gets the W input so we need to move one space up in the Y axis. So we have a [inputy] that is the y coordinate of the player. To move one up we need to decrease the value by one and at the same time check that it doesn’t go below 0 if it does we need to go to from top to bottom. Otherwise it will just decrease one. Step 3 is to set temp to be the new place that the player has moved to and set the current place as the cursor. This repeats for all movements with small changes for different movements.
Now that we can move on the grid we need to be able to play the game so we need a way to open and flag to be able to win the game.
To flag the place the code checks if the place is a bomb and is not a already flagged place. If it is a bomb it will add to the bomb counter and when it has reached its limit the game will be won. If it isn’t a bomb it will just print and F but not add to bomb counter. Then when the F is printed it will set temp to be the player position so when player moves the next time the F will be left on that place. To open the place we need to check that the place is not a bomb if it is then the player has opened a bomb and the game is over. If it is not an bomb it will replace the player grid with the bomb grid and set the value as a temp so when player moves the next time the character that is on that place will be left on that place.

4	Conclusion And Thoughts
To conclude the project, I was able to make the game that I intended to make and it works. I learnt a lot about C programming language and the different ways to utilize it to solve problems and I feel comfortable to program in C language. I also learnt to play minesweeper finally. The game is a really raw version of the real game. E.g. there is a mechanic in the real game that the first click opens cells that it will be surrounded by numbers so any empty space and the first row of numbers will be revealed on the first click. I tried implementing this but it was too hard and the code I tried was really complicated and crashed the game 80% of the time. For the functionality of the game I decided to remove the feature so the game would be playable. There is also a minor problem that is cosmetic more then anything and it is that the grid is printed twice when you give the input for the code.  Overall I am satisfied with the code that I was able to produce I am mostly happy that I was able to make the movement work with case structure because I felt that it was the easy simple way but works like intended. The biggest problem In the beginning was the grids and how to make two grids on top of each other but I got help from my classmates and they suggested that I would just replace the grids and that was a good working idea so I used it. 

The source code can be found here: https://github.com/JHenrik/Minesweeper

